{#
# GNU MediaGoblin -- federated, autonomous media hosting
# Copyright (C) 2011, 2012 MediaGoblin contributors.  See AUTHORS.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
-#}
{% extends "mediagoblin/base.html" %}

{% import "/mediagoblin/utils/wtforms.html" as wtforms_util %}
{% block mediagoblin_head %}
  {% include "dogma/parts/member_band_head.html"  %}
{% endblock %}



{% block title -%}
  {% trans %}Add a new band{% endtrans %} &mdash; {{ super() }}
{% endblock %}
{% block mediagoblin_content %}
  <h1>{% trans %}Create a new Band{% endtrans %}</h1>
  <form enctype="multipart/form-data" method="post" action=""{{ request.urlgen('mediagoblin.plugins.dogma.add_members') }}">
      <div id="band" class="form_container">
        <p class="form_field_label"><label for="band_since">{% trans %}Band country : {% endtrans %}</label></p>
        <div class="form_field_input" id="band_location">
            {% set country_input_name="band_country" %}
            {% include "dogma/parts/countries.html"  %}
            <p class="form_field_label"><label for="band_since">{% trans %}Postal code : {% endtrans %}</label></p>
            <input class="postalcode" name="band_postalcode" size="10" type="text">
            <input class="place" name="band_place" size="30" type="hidden">
            <input class="latitude" name="band_latitude" size="30" value="0"  type="hidden">
            <input class="longitude" name="band_longitude" size="30" value="0" type="hidden">
            <p class="form_field_label"><label for="placeInput">{% trans %}Your city : {% endtrans %}</label></p>
            <span class="placeDisplay"></span>
            <div  class="suggestBoxElement"></div>
        </div>
    <p class="form_field_description">{% trans  %}Just type your postal code and click here : {% endtrans %}<button class="button_action" type="button">{% trans %}search your city{% endtrans %}</button></p>
        {{ wtforms_util.render_divs(band_form) }}
        <div class="form_field_input">
            <p class="form_field_label"><label for="band_since">{% trans %}This band exists since{% endtrans %}</label></p>
            <div id="band_since_calendar" class="datePicker dateUnprocessed" >
              <input id="band_since_input" class="date_picker_input" name="band_since" type="hidden">
            </div>
        </div>
      </div>
      <div class="form_submit_buttons">
        {{ csrf_token }}
        <input type="submit" value="{% trans %}Just add the band{% endtrans %}" class="button_form" name="simple_submit"/>
        <input type="submit" value="{% trans %}Add and continue ( next : members ){% endtrans %}" class="button_form continue" name="submit_and_continue"/>
      </div>
  </form>
{% endblock %}
